# 128. Longest Consecutive Sequence

**Сложность:** Medium  
**Источник:** [LeetCode](https://leetcode.com/problems/longest-consecutive-sequence/)  
**Темы:** Array, Hash Set

## Описание

Дан неупорядоченный массив целых чисел. Необходимо найти длину самой длинной последовательности идущих подряд чисел.

**Важно:**
- Последовательность должна состоять из чисел, идущих друг за другом (например, 1, 2, 3, 4)
- Числа в последовательности не обязательно идут подряд в исходном массиве
- Требуемая сложность: **O(n)**

## Алгоритм

Используем HashSet для достижения линейной сложности:

1. **Создаем HashSet** и добавляем все числа из массива
2. **Итерируемся по множеству** и для каждого элемента проверяем:
   - Если `el - 1` не существует в множестве — это начало последовательности
   - Считаем длину последовательности, проверяя `el + 1`, `el + 2`, и т.д.
3. **Запоминаем максимальную длину**

**Почему это O(n):** Каждый элемент обрабатывается максимум 2 раза (один раз при добавлении в set, один раз при подсчёте последовательности)

## Визуализация

**Пример 1:**
```
Вход:  [100, 4, 200, 1, 3, 2]
       ↓
Выход: 4 (последовательность: 1, 2, 3, 4)

Шаги:
Set = {100, 4, 200, 1, 3, 2}

→ el=100: 99 нет в set → начало последовательности
  считаем: 100 → длина = 1
  
→ el=4: 3 есть в set → не начало, пропускаем

→ el=200: 199 нет в set → начало последовательности
  считаем: 200 → длина = 1
  
→ el=1: 0 нет в set → начало последовательности
  считаем: 1, 2, 3, 4 → длина = 4 ✓ (максимум)
  
→ el=3: 2 есть в set → не начало, пропускаем

→ el=2: 1 есть в set → не начало, пропускаем

Ответ: 4
```

**Пример 2:**
```
Вход:  [0, 3, 7, 2, 5, 8, 4, 6, 0, 1]
       ↓
Выход: 9 (последовательность: 0, 1, 2, 3, 4, 5, 6, 7, 8)

Шаги:
Set = {0, 3, 7, 2, 5, 8, 4, 6, 1} (дубликат 0 удалён)

→ el=0: -1 нет в set → начало последовательности
  считаем: 0, 1, 2, 3, 4, 5, 6, 7, 8 → длина = 9 ✓
  
Остальные элементы пропускаем (у них есть предыдущий элемент)

Ответ: 9
```

**Пример 3 (пустой массив):**
```
Вход:  []
       ↓
Выход: 0

Шаги:
Set = {}
→ нет элементов для обработки

Ответ: 0
```

## Примеры

| Вход | Выход | Последовательность |
|------|-------|-------------------|
| `[100,4,200,1,3,2]` | 4 | `[1,2,3,4]` |
| `[0,3,7,2,5,8,4,6,0,1]` | 9 | `[0,1,2,3,4,5,6,7,8]` |
| `[]` | 0 | — |
| `[1]` | 1 | `[1]` |
| `[1,2,0,1]` | 3 | `[0,1,2]` |
