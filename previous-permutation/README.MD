# 1053. Previous Permutation With One Swap

**Сложность:** Medium  
**Источник:** [LeetCode](https://leetcode.com/problems/previous-permutation-with-one-swap/)  
**Темы:** Array, Greedy

## Описание

Дан массив целых чисел. Необходимо найти предыдущую лексикографически меньшую перестановку, выполнив **ровно одну** замену двух элементов местами.

Если предыдущая перестановка невозможна (массив отсортирован по возрастанию), вернуть исходный массив.

**Важно:** Если существует несколько вариантов получить одну и ту же перестановку, нужно выбрать лексикографически наибольшую из возможных замен.

## Алгоритм

1. **Найти точку перелома (pivot):** Идём справа налево, ищем первый элемент, который больше следующего (`arr[i] > arr[i+1]`)
2. **Если точки перелома нет:** Массив отсортирован по возрастанию — возвращаем как есть
3. **Найти лучший элемент для замены:**
   - Среди элементов справа от pivot выбираем те, что меньше `arr[pivot]`
   - Из них выбираем максимальный (для наибольшей перестановки)
   - Если есть дубликаты, выбираем первый (левый) из них
4. **Поменять местами** pivot и найденный элемент

## Визуализация

**Пример 1:**
```
Вход:  [3, 2, 1]
       ↓
Выход: [3, 1, 2]

Шаги:
[3, 2, 1] → pivot на индексе 1 (2 > 1)
→ ищем элемент < 2 справа (это 1)
→ меняем 2 и 1
→ [3, 1, 2]
```

**Пример 2:**
```
Вход:  [1, 1, 5]
       ↓
Выход: [1, 1, 5]

Шаги:
[1, 1, 5] → нет pivot (возрастающий порядок)
→ возвращаем как есть
```

**Пример 3:**
```
Вход:  [1, 9, 4, 6, 7]
       ↓
Выход: [1, 7, 4, 6, 9]

Шаги:
[1, 9, 4, 6, 7] → pivot на индексе 1 (9 > 4)
→ ищем элемент < 9 справа (максимальный из меньших — это 7)
→ меняем 9 и 7
→ [1, 7, 4, 6, 9]
```

**Пример 4 (с дубликатами):**
```
Вход:  [3, 1, 1, 3]
       ↓
Выход: [1, 3, 1, 3]

Шаги:
[3, 1, 1, 3] → pivot на индексе 0 (3 > 1)
→ ищем элемент < 3 справа (максимальный из меньших — это 1)
→ выбираем первый (левый) из дубликатов
→ меняем 3 и 1 на индексе 1
→ [1, 3, 1, 3]
```

## Примеры

| Вход | Выход |
|------|-------|
| `[3,2,1]` | `[3,1,2]` |
| `[1,1,5]` | `[1,1,5]` |
| `[1,9,4,6,7]` | `[1,7,4,6,9]` |
| `[3,1,1,3]` | `[1,3,1,3]` |
| `[1,2,3]` | `[1,2,3]` |

